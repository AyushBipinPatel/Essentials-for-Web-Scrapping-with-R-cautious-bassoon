<!DOCTYPE html>
<html lang="en"><head>
<script src="lecuter_slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecuter_slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="lecuter_slides_files/libs/quarto-html/popper.min.js"></script>
<script src="lecuter_slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="lecuter_slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecuter_slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="lecuter_slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.269">

  <meta name="author" content="Ayush Patel">
  <title>Essentials for Web Scrapping with R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lecuter_slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="lecuter_slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="lecuter_slides_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="lecuter_slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="lecuter_slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="lecuter_slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="lecuter_slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Essentials for Web Scrapping with R</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ayush Patel 
</div>
</div>
</div>

</section>
<section id="why-are-you-here" class="slide level2">
<h2>Why are you here</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>There is stuff you want from web pages.</p>
<p>You know R.</p>
<div class="fragment">
<p><b>Here you can learn how to use R to get stuff from web page.</b></p>
</div>
</div><div class="column" style="width:35%;">
<iframe src="https://giphy.com/embed/G1ifnX4d5tYFACktp9" width="480" height="480" frameborder="0" class="giphy-embed" allowfullscreen="">
</iframe>
<p>
<a href="https://giphy.com/gifs/data-own-your-my-G1ifnX4d5tYFACktp9">via GIPHY</a>
</p>
</div>
</div>
</section>
<section id="concepts-you-need-to-know-before-hand" class="slide level2">
<h2>Concepts you need to know before hand</h2>
<div>
<ul>
<li class="fragment">What are lists, vectors and data frames</li>
<li class="fragment">How to subset these</li>
<li class="fragment">How to use a function</li>
<li class="fragment">Use the pipe operator ( %&gt;% or |&gt;)</li>
</ul>
</div>
</section>
<section id="how-are-we-going-about-learning-this" class="slide level2">
<h2>How are we going about learning this</h2>
<div>
<ul>
<li class="fragment">Learn some absolute essentials of HTML<sup>1</sup></li>
<li class="fragment">Do a quick silly scrapping exercise using <code>{rvest}</code> functions</li>
<li class="fragment">Learn essential functions of <code>{rvest}</code></li>
<li class="fragment">A detour to writing simple functions and iterating using <code>{purrr}</code> functions</li>
<li class="fragment">Learn foundations of <code>{Rselenium}</code> for browser automation</li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>All materials for this topic are from <a href="https://www.w3schools.com/html/default.asp">W3School</a></p></li></ol></aside></section>
<section id="what-is-html" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">What is HTML?</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>A markup language. <em>What is a markup language?</em></p>
<div class="fragment">
<p>Structure of the webpage</p>
</div>
<div class="fragment">
<p>Has Elements. <em>What are elements?</em></p>
</div>
<div class="fragment">
<p>Elements tells browser how to display content</p>
</div>
</div><div class="column" style="width:35%;">
<p>This is how html looks <sup>1</sup>.</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Page Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;My First Heading&lt;/h1&gt;
&lt;p&gt;My first paragraph.&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>An example from W3School</p></li></ol></aside></section>
<section id="what-are-elements" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">What are Elements ?</h2>
<p>Below is an HTML Element.</p>
<div class="fragment grow">
<div class="fragment shrink">
<pre><code>&lt;tag&gt;stuff to be displayed on the webpage &lt;/tag&gt;
</code></pre>
</div>
</div>
<div class="fragment">
<p>Starts with <code>&lt;tag&gt;</code></p>
</div>
<div class="fragment">
<p>Ends with <code>&lt;/tag&gt;</code></p>
</div>
<div class="fragment">
<p>Elements can be nested, meaning you can have one element within another</p>
</div>
<div class="fragment">
<p>Examples can be <i>headings, paragraphs, lists</i> etc</p>
</div>
<div class="fragment">
<p>There can be multiple elements of the same type in a web page. <em>How would you identify different elements of the same type? Each element will have a unique xpath or both.</em></p>
</div>
<div class="fragment">
<p><a href="https://www.w3schools.com/tags/default.asp">Here is a reference of HTML elements from W3School</a></p>
</div>
</section>
<section id="what-are-attributes" class="slide level2">
<h2>What are Attributes?</h2>
<div class="fragment">
<p>Elements of same <em>type, say a heading,</em> can have different attributes.</p>
</div>
<div class="fragment">
<p>Consider this example</p>
<pre><code>&lt;h3 style="color:blue;text-align:center"&gt;This is a header&lt;/h3&gt;
&lt;h3 style="color:red;text-align:right"&gt;This is a header&lt;/h3&gt;</code></pre>
<br>
<h3 style="color:blue;text-align:center">
This is a header
</h3>
<h3 style="color:red;text-align:right">
This is a header
</h3>
</div>
<div class="fragment">
<p><a href="https://www.w3schools.com/tags/ref_attributes.asp">Here is a reference of attributes from W3School</a></p>
</div>
</section>
<section id="the-family" class="slide level2 smaller">
<h2>The Family</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>HTML code</p>
<pre><code>&lt;p&gt;
This is the random stuff that comes out of my brain. It has no meaning. How many tomatoes are there in ketchup bottle.

  &lt;ul&gt;
    &lt;li&gt;potatoes, but potatoes have eyes
      &lt;li&gt;Stop this madness&lt;/li&gt;
    &lt;/li&gt;
    &lt;li&gt;tomatoes, do tomatoes have toes??&lt;/li&gt;
  &lt;/ul&gt;

&lt;/p&gt;</code></pre>
</div><div class="column" style="width:30%;">
<p>HTML output<br> This is the random stuff that comes out of my brain. It has no meaning. How many tomatoes are there in ketchup bottle.</p>
<ul>
<li>potatoes, but potatoes have eyes
<ul>
<li>Stop this madness</li>
</ul></li>
<li>tomatoes, do tomatoes have toes??</li>
</ul>
</div><div class="column" style="width:30%;">
<p>The Family</p>
<ul>
<li>The Ancestors</li>
<li>The Descendants</li>
<li>The Parent &amp; Child</li>
<li>The siblings</li>
</ul>
</div>
</div>
</section>
<section id="this-is-all-you-need-to-know-about-html" class="slide level2" style="text-align:center;padding:250px 0">
<h2>This is all you need to know about HTML</h2>
</section>
<section id="reckless-coding-detour" class="slide level2">
<h2>Reckless coding detour</h2>
<p>Here we will try to scrap from a webpage <em>without really knowing the details of the functions.</em></p>
<div class="fragment">
<p>Navigate to <a href="https://www.giantbomb.com/looney-tunes/3025-714/characters/">https://www.giantbomb.com/looney-tunes/3025-714/characters/</a> in your browser.</p>
</div>
<div class="fragment">
<p>Take good look at this website</p>
</div>
<div class="fragment">
<p>Here is what we want:</p>
<ul>
<li>Get names of all the characters on this page</li>
<li>Get Description of all these characters as well</li>
<li>Create a data frame with columns name and description</li>
</ul>
</div>
</section>
<section id="reckless-coding-continued" class="slide level2">
<h2>Reckless coding continued</h2>
<p>Load libraries</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">library</span>(rvest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Run this command, is returns the html code of the webpage</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">read_html</span>(<span class="st">"put the url of the webpage here"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p>Use CSS selector or the inspect element in browser to find element of character names</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">read_html</span>(<span class="st">"put the url of the webpage here"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">html_elements</span>(<span class="st">"put desired element's name here"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>check output, not exactly what we want is it?</p>
</div>
</section>
<section id="reckless-coding-continued-1" class="slide level2 scrollable">
<h2>Reckless coding continued</h2>
<p>The output</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (37)}
 [1] &lt;h3 class="display-view"&gt;A brand of Warner Bros. Inc. It began as a cart ...
 [2] &lt;h3&gt;\n                  \n  \n          \n\n&lt;dt id="js-field-label--fran ...
 [3] &lt;h3 class="title"&gt;Barnyard Dawg&lt;/h3&gt;
 [4] &lt;h3 class="title"&gt;Big Chungus&lt;/h3&gt;
 [5] &lt;h3 class="title"&gt;Bugs Bunny&lt;/h3&gt;
 [6] &lt;h3 class="title"&gt;Daffy Duck&lt;/h3&gt;
 [7] &lt;h3 class="title"&gt;Dr. Moron&lt;/h3&gt;
 [8] &lt;h3 class="title"&gt;Egghead Jr.&lt;/h3&gt;
 [9] &lt;h3 class="title"&gt;Elmer Fudd&lt;/h3&gt;
[10] &lt;h3 class="title"&gt;Foghorn Leghorn&lt;/h3&gt;
[11] &lt;h3 class="title"&gt;Gossamer&lt;/h3&gt;
[12] &lt;h3 class="title"&gt;Hamton J. Pig&lt;/h3&gt;
[13] &lt;h3 class="title"&gt;Hector the Bulldog&lt;/h3&gt;
[14] &lt;h3 class="title"&gt;Henery Hawk&lt;/h3&gt;
[15] &lt;h3 class="title"&gt;Hippety Hopper&lt;/h3&gt;
[16] &lt;h3 class="title"&gt;Hugo the Abominable Snowman&lt;/h3&gt;
[17] &lt;h3 class="title"&gt;K-9&lt;/h3&gt;
[18] &lt;h3 class="title"&gt;Lola Bunny&lt;/h3&gt;
[19] &lt;h3 class="title"&gt;Marvin The Martian&lt;/h3&gt;
[20] &lt;h3 class="title"&gt;Melissa Duck&lt;/h3&gt;
...</code></pre>
</div>
</div>
<p>Add this to the code</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">read_html</span>(<span class="st">"put the url of the webpage here"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">html_elements</span>(<span class="st">"put desired element's name here"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">html_text</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="somethings-is-not-just-right-yet" class="slide level2">
<h2>Somethings is not just right yet</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "A brand of Warner Bros. Inc. It began as a cartoon series which spawned a number of tie-ins including video games."
 [2] "\n                  \n  \n          \n\nSummaryShort summary describing this franchise.\n            "             
 [3] "Barnyard Dawg"                                                                                                     
 [4] "Big Chungus"                                                                                                       
 [5] "Bugs Bunny"                                                                                                        
 [6] "Daffy Duck"                                                                                                        
 [7] "Dr. Moron"                                                                                                         
 [8] "Egghead Jr."                                                                                                       
 [9] "Elmer Fudd"                                                                                                        
[10] "Foghorn Leghorn"                                                                                                   
[11] "Gossamer"                                                                                                          
[12] "Hamton J. Pig"                                                                                                     
[13] "Hector the Bulldog"                                                                                                
[14] "Henery Hawk"                                                                                                       
[15] "Hippety Hopper"                                                                                                    
[16] "Hugo the Abominable Snowman"                                                                                       
[17] "K-9"                                                                                                               
[18] "Lola Bunny"                                                                                                        
[19] "Marvin The Martian"                                                                                                
[20] "Melissa Duck"                                                                                                      
[21] "Miss Prissy"                                                                                                       
[22] "Nasty Canasta"                                                                                                     
[23] "O'Mike"                                                                                                            
[24] "O'Pat"                                                                                                             
[25] "Penelope Pussycat"                                                                                                 
[26] "Pepe Le Pew"                                                                                                       
[27] "Petunia Pig"                                                                                                       
[28] "Porky Pig"                                                                                                         
[29] "Ralph Wolf"                                                                                                        
[30] "Road Runner"                                                                                                       
[31] "Sam Sheepdog"                                                                                                      
[32] "Speedy Gonzales"                                                                                                   
[33] "Top contributors to this wiki"                                                                                     
[34] "Pick a List"                                                                                                       
[35] "Comment and Save"                                                                                                  
[36] "      Thanks, we're checking your submission.\n  "                                                                 
[37] ""                                                                                                                  </code></pre>
</div>
</div>
<div class="fragment">
<p>try using <code>h3.title</code> instead. Can you guess what happened? Save the output as an object, say <code>char_name</code></p>
</div>
</section>
<section id="getting-the-character-description" class="slide level2 smaller scrollable">
<h2>Getting the Character Description</h2>
<p>A problem you will face:</p>
<ul>
<li>the <code>p</code> element is not just used for the description of the characters in this webpage.</li>
</ul>
<div class="fragment">
<p>So, what to do:</p>
<ul>
<li>Get more precise. See the xpath for each description</li>
</ul>
</div>
<div class="fragment">
<div class="fragment highlight-blue">
<p>Do you see a pattern?</p>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># function to get the description</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a>get_description <span class="ot">&lt;-</span> <span class="cf">function</span>(xp){</span>
<span id="cb11-4"><a href="#cb11-4"></a>  </span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="fu">read_html</span>(<span class="st">"https://www.giantbomb.com/looney-tunes/3025-714/characters/"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">html_element</span>(<span class="at">xpath =</span> xp) <span class="sc">|&gt;</span> </span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="fu">html_text</span>()</span>
<span id="cb11-8"><a href="#cb11-8"></a>  </span>
<span id="cb11-9"><a href="#cb11-9"></a>}</span>
<span id="cb11-10"><a href="#cb11-10"></a></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co"># generate all xpaths that you want</span></span>
<span id="cb11-12"><a href="#cb11-12"></a></span>
<span id="cb11-13"><a href="#cb11-13"></a>vec_all_xpaths <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">'//*[@id="wiki-3025-714-characters"]/ul[1]/li['</span>,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>),<span class="st">']/a/p'</span>)</span>
<span id="cb11-14"><a href="#cb11-14"></a></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="co"># get description for all characters</span></span>
<span id="cb11-16"><a href="#cb11-16"></a></span>
<span id="cb11-17"><a href="#cb11-17"></a>char_description <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_chr</span>(<span class="at">.x =</span> vec_all_xpaths,<span class="at">.f =</span> get_description)</span>
<span id="cb11-18"><a href="#cb11-18"></a></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="co"># create the data frame</span></span>
<span id="cb11-20"><a href="#cb11-20"></a></span>
<span id="cb11-21"><a href="#cb11-21"></a>tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb11-22"><a href="#cb11-22"></a>  <span class="at">character =</span> char_name,</span>
<span id="cb11-23"><a href="#cb11-23"></a>  <span class="at">description =</span> char_description </span>
<span id="cb11-24"><a href="#cb11-24"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="details-of-rvest-functions" class="slide level2" style="text-align:center;padding:100px 0">
<h2>Details of Rvest functions</h2>
<p><img src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/thumbs/rvest.png" style="width:500px;height:500px;margin-left:au;margin-right:auto;"></p>
</section>
<section id="read_html" class="slide level2">
<h2><code>read_html()</code> <sup>1</sup></h2>
<p><strong>Required Input</strong>: The URL of the webpage as string. Can be other things literal xml or html</p>
<p><br></p>
<div class="fragment">
<p><strong>Output</strong>: html code. The class of the output is usually xml_document, xml_node</p>
<p><br></p>
</div>
<div class="fragment">
<p>This function is used to get all the details(html code) of a webpage. This output can be further used to extract desired parts</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn3"><p>Details from documentation</p></li></ol></aside></section>
<section id="read_html-example" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>read_html</code> example</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb12-1" class="hljs-ln-code"><a href="#cb12-1"></a>rvest<span class="sc">::</span><span class="fu">read_html</span>(<span class="st">"https://www.giantbomb.com/looney-tunes/3025-714/characters/"</span>) <span class="ot">-&gt;</span> looney_page</span>
<span id="cb12-2" class="hljs-ln-code"><a href="#cb12-2"></a></span>
<span id="cb12-3" class="hljs-ln-code"><a href="#cb12-3"></a>looney_page</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html lang="en" class="no-js no-touch "&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body id="default-body" class="body--legacy wiki_object col-2-template "  ...</code></pre>
</div>
</div>
<p><code>looney_page</code> has the html code for the webpage from exercise.</p>
</section>
<section id="html_elements-or-html_element" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>html_elements()</code> or <code>html_element()</code> <sup>1</sup></h2>
<p><strong>Required Input (x)</strong>: A document, node or nodes. Like <code>looney_page</code></p>
<p><br></p>
<div class="fragment">
<p><strong>Required Input (css or xpath)</strong>: Either of CSS selector value or the xpath of the desired element(s). Like <code>h3.title</code> or <code>//*[@id="wiki-3025-714-characters"]/ul[1]/li[1]/a/h3</code></p>
<p><br></p>
</div>
<div class="fragment">
<p><strong>Output</strong>: Finds the elements specified elements and returns. Class of the output is usually xml_node or xml_nodeset.</p>
<p><br></p>
</div>
<div class="fragment">
<p><a href="https://rvest.tidyverse.org/reference/html_element.html">Difference between <code>html_element()</code> and <code>html_elements()</code></a></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn4"><p>Details from documentation</p></li></ol></aside></section>
<section id="html_elements-or-html_element-example" class="slide level2 smaller scrollable">
<h2><code>html_elements()</code> or <code>html_element()</code> example</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>looney_page <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>  rvest<span class="sc">::</span><span class="fu">html_elements</span>(<span class="st">"h3.title"</span>) <span class="ot">-&gt;</span> looney_chars</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a>looney_chars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (30)}
 [1] &lt;h3 class="title"&gt;Barnyard Dawg&lt;/h3&gt;
 [2] &lt;h3 class="title"&gt;Big Chungus&lt;/h3&gt;
 [3] &lt;h3 class="title"&gt;Bugs Bunny&lt;/h3&gt;
 [4] &lt;h3 class="title"&gt;Daffy Duck&lt;/h3&gt;
 [5] &lt;h3 class="title"&gt;Dr. Moron&lt;/h3&gt;
 [6] &lt;h3 class="title"&gt;Egghead Jr.&lt;/h3&gt;
 [7] &lt;h3 class="title"&gt;Elmer Fudd&lt;/h3&gt;
 [8] &lt;h3 class="title"&gt;Foghorn Leghorn&lt;/h3&gt;
 [9] &lt;h3 class="title"&gt;Gossamer&lt;/h3&gt;
[10] &lt;h3 class="title"&gt;Hamton J. Pig&lt;/h3&gt;
[11] &lt;h3 class="title"&gt;Hector the Bulldog&lt;/h3&gt;
[12] &lt;h3 class="title"&gt;Henery Hawk&lt;/h3&gt;
[13] &lt;h3 class="title"&gt;Hippety Hopper&lt;/h3&gt;
[14] &lt;h3 class="title"&gt;Hugo the Abominable Snowman&lt;/h3&gt;
[15] &lt;h3 class="title"&gt;K-9&lt;/h3&gt;
[16] &lt;h3 class="title"&gt;Lola Bunny&lt;/h3&gt;
[17] &lt;h3 class="title"&gt;Marvin The Martian&lt;/h3&gt;
[18] &lt;h3 class="title"&gt;Melissa Duck&lt;/h3&gt;
[19] &lt;h3 class="title"&gt;Miss Prissy&lt;/h3&gt;
[20] &lt;h3 class="title"&gt;Nasty Canasta&lt;/h3&gt;
...</code></pre>
</div>
</div>
<p><code>looney_chars</code> has the characters from the webpage, but not it <em>text or string format</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>looney_page <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>  rvest<span class="sc">::</span><span class="fu">html_elements</span>(<span class="at">xpath =</span> <span class="st">'//*[@id="wiki-3025-714-characters"]/ul[1]/li[1]/a/h3'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (1)}
[1] &lt;h3 class="title"&gt;Barnyard Dawg&lt;/h3&gt;</code></pre>
</div>
</div>
</section>
<section id="html_text" class="slide level2">
<h2><code>html_text()</code><sup>1</sup></h2>
<p><code>html_elements()</code> get what we want, just not how we want it.</p>
<div class="fragment">
<p>This is where <code>html_text()</code> can help.</p>
</div>
<div class="fragment">
<p><strong>Required Input (x)</strong>: A document, node or nodes. Like <code>looney_chars</code></p>
</div>
<div class="fragment">
<p><strong>Other Inputs (trim)</strong> : Remove spaces from the beginning and end</p>
</div>
<div class="fragment">
<p><em>Returns a character vector.</em></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn5"><p>Details from documentation</p></li></ol></aside></section>
<section id="html_text-example" class="slide level2">
<h2><code>html_text()</code> example</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>looney_chars<span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>  rvest<span class="sc">::</span><span class="fu">html_text</span>() <span class="ot">-&gt;</span> looney_chars_text</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a>looney_chars_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Barnyard Dawg"               "Big Chungus"                
 [3] "Bugs Bunny"                  "Daffy Duck"                 
 [5] "Dr. Moron"                   "Egghead Jr."                
 [7] "Elmer Fudd"                  "Foghorn Leghorn"            
 [9] "Gossamer"                    "Hamton J. Pig"              
[11] "Hector the Bulldog"          "Henery Hawk"                
[13] "Hippety Hopper"              "Hugo the Abominable Snowman"
[15] "K-9"                         "Lola Bunny"                 
[17] "Marvin The Martian"          "Melissa Duck"               
[19] "Miss Prissy"                 "Nasty Canasta"              
[21] "O'Mike"                      "O'Pat"                      
[23] "Penelope Pussycat"           "Pepe Le Pew"                
[25] "Petunia Pig"                 "Porky Pig"                  
[27] "Ralph Wolf"                  "Road Runner"                
[29] "Sam Sheepdog"                "Speedy Gonzales"            </code></pre>
</div>
</div>
</section>
<section id="html_table" class="slide level2 smaller">
<h2><code>html_table()</code><sup>1</sup></h2>
<p>Along with text, there are <em>tables</em> on webpages that we want.</p>
<div class="fragment">
<p><strong>Required Input (x)</strong>: A document, node or nodes. It expects the outputs of either of <code>read_html</code>, <code>html_elements</code></p>
</div>
<div class="fragment">
<strong>Other Inputs (header)</strong>: Sets first row as the column names when set to <code>TRUE</code>, if set to <code>NA</code> it will use the first row as header if there is a

<p>tag</p>
</div>
<div class="fragment">
<p><strong>Other Inputs (trim)</strong> : Remove spaces from the beginning and end</p>
</div>
<div class="fragment">
<p><strong>Other Inputs (dec)</strong> : Which character to use as a decimal. Some countries have , as a decimal.</p>
</div>
<div class="fragment">
<p><em>Returns a tibble or list of tibbles if applied on multiple elements</em></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn6"><p>Details from Documentation</p></li></ol></aside></section>
<section id="html_table-example" class="slide level2">
<h2><code>html_table()</code> example</h2>
<p>Go to <a href="https://doe.gov.in/whos-who">Department of Expenditure’s contact details</a> page.</p>
<div class="fragment">
<p>We want the tables on this page.</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>rvest<span class="sc">::</span><span class="fu">read_html</span>(<span class="st">"https://doe.gov.in/whos-who"</span>)<span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>  rvest<span class="sc">::</span><span class="fu">html_elements</span>(<span class="st">"table"</span>)<span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  rvest<span class="sc">::</span><span class="fu">html_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 10 × 9
   Name            Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;           &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 Smt Nirmala Si… Financ… NA      230925… "23793… ""      134, N… "15, S… "app…
 2 Shri S.S. Nakul Privat… NA      230925… ""      ""      136-A,… ""      ""   
 3 Shri Vivek Sin… OSD to… NA      230925… ""      "5676,… 137A, … ""      ""   
 4 Shri Ankit Jal… Addl. … NA      230925… ""      "5676,… 142-A,… ""      "fmo…
 5 Shri B.N. Bhas… Addl. … NA      230925… ""      "5676,… 137-A,… ""      ""   
 6 Shri Karma Son… Addl. … NA      230925… ""      ""      137-A,… ""      ""   
 7 Shri Sernya Bh… 1st PA… NA      230925… ""      ""      136, N… ""      ""   
 8 Shri Anil Yadav Under … NA      230925… ""      "5676,… 135, N… ""      ""   
 9 Shri Ashok Raw… PPS     NA      230925… ""      "5676,… 142-A,… ""      ""   
10 Shri Ram Rasik… Under … NA      230925… ""      ""      167-A,… ""      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[2]]
# A tibble: 10 × 9
   Name            Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 Shri Pankaj Ch… Minist… ""      "23093… ""      NA      "138, … ""      "mos…
 2 Shri Kumar Rav… PS to … ""      "23093… ""      NA      "North… ""      ""   
 3 Shri Alkesh Ut… Addl. … ""      "23093… ""      NA      "142, … ""      ""   
 4 Shri Gaurav Sh… US      ""      "23093… ""      NA      "144-A… ""      ""   
 5 Sh. Neeraj Mis… APS to… "MoS"   "23093… ""      NA      ""      ""      ""   
 6 Sh. Dhruv Nara… Ist PA… "MoS"   "23093… ""      NA      ""      ""      ""   
 7 MOS Finance     MOS Fi… ""      ""      ""      NA      ""      ""      ""   
 8 Dr. Bhagwat Ka… MOS Fi… ""      "23093… "011 -… NA      "165, … "302, … "mos…
 9 Shri Amit Meena PS to … ""      "23093… ""      NA      "166A,… ""      ""   
10 Shri Shambhu K… Under … ""      "23093… ""      NA      "164, … ""      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[3]]
# A tibble: 5 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;lgl&gt;     &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
1 Dr. T. V. Soman… F.S. &amp;… NA       2.31e7 NA      5610, … 129-A,… ""      "sec…
2 Shri S. Sudarsh… PSO     NA       2.31e7 NA      5624, … 129-C … ""      ""   
3 Shri Rakesh Kum… PPS     NA       2.31e7  9.96e9 5610, … 129-C … "A-1/2… ""   
4 Sh. Chanakya Ke… PPS     NA       2.31e7  9.87e9 5610, … 129-C,… "892, … ""   
5 Sh. Netra Pal S… Consul… NA       2.31e7  9.97e9 5624, … 129-C,… "138-A… ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[4]]
# A tibble: 1 × 9
  Name  Designation        Divis…¹ Telep…² Telep…³ Inter…⁴ Room …⁵ Addre…⁶ Email
  &lt;chr&gt; &lt;chr&gt;              &lt;lgl&gt;   &lt;lgl&gt;   &lt;lgl&gt;   &lt;lgl&gt;   &lt;lgl&gt;   &lt;lgl&gt;   &lt;lgl&gt;
1 .     Additional Secret… NA      NA      NA      NA      NA      NA      NA   
# … with abbreviated variable names ¹​`Division/section`, ²​`Telephone (Office)`,
#   ³​`Telephone(Residence)`, ⁴​`Intercom No.`, ⁵​`Room No.`,
#   ⁶​`Address(Residence)`

[[5]]
# A tibble: 21 × 9
   Name            Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 Smt.Annie G. M… Specia… Person… 011-23… NA      5648    39-A, … "Bunga… "mat…
 2 Smt. Sudha Raj… PSO to… Person… 011-23… NA      5648    36, No… ""      "Sud…
 3 Ms. Divya Alat… Direct… Admin   230926… NA      5693    168-C,… ""      "div…
 4 Shri Shyam Kis… Sr. PP… Admin   011-23… NA      5616    169-A,… ""      "kis…
 5 Shri S.N. Rana  Under … GAD/Co… 011-23… NA      5665    56A, N… ""      "ran…
 6 Shri Pravin Ku… Under … Admn.   230957… NA      5722    225E, … ""      ""   
 7 Sh. Ranjit Kum… Under … Admin/… 011-23… NA      5695    225-E,… ""      "ran…
 8 Sh. Ravi Kumar  SO      GAD     230956… NA      5621, … 56A, N… ""      ""   
 9 Sh. Pijush Moh… Under … Vigila… 230956…  9.54e9 5656    231 No… "32-A,… "pij…
10 Shri Rajeshwar… Deputy… Offici… 011-23… NA      5620    261, N… ""      "raj…
# … with 11 more rows, and abbreviated variable names ¹​Designation,
#   ²​`Division/section`, ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`,
#   ⁵​`Intercom No.`, ⁶​`Room No.`, ⁷​`Address(Residence)`
# ℹ Use `print(n = ...)` to see more rows

[[6]]
# A tibble: 34 × 9
   Name            Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;     &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 Smt..Annie G. … Specia… Person… 230932… NA         5648 39-A, … "Bunga… "mat…
 2 Smt. Sudha Raj… PSO to… Person… 011-23… NA         5648 36 Nor… ""      "Sud…
 3 Sh. THANGLEMLI… Joint … E.Coor… 230932… NA         5690 74 -B/… ""      "THA…
 4 Smt. Nirmala D… Direct… EG      230932… NA         5623 37, NB  ""      "n[d…
 5 Sh. Avinash K … Deputy… E.II -A 230926… NA         5609 48 -E,… ""      "avi…
 6 Sh. Umesh Kuma… Deputy… E. III… 011-23… NA         5667 225-D,… ""      "uk[…
 7 Sh. B. Sengupta D.S.    E.III-… 230927… NA         5723 76 -A/… ""      ""   
 8 Shri Ram Gopal  Deputy… E.III B 230922… NA         5726 30A, N… ""      ""   
 9 Sh. B.K. Manth… D.S.    E.Coor… 230945… NA         5669 74-C N… ""      ""   
10 Shri R.D.Taluk… Direct… E-III … 246279… NA           NA 502/LNB ""      ""   
# … with 24 more rows, and abbreviated variable names ¹​Designation,
#   ²​`Division/section`, ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`,
#   ⁵​`Intercom No.`, ⁶​`Room No.`, ⁷​`Address(Residence)`
# ℹ Use `print(n = ...)` to see more rows

[[7]]
# A tibble: 14 × 9
   Name           Desig…¹ Divis…² Telep…³ Teleph…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 Smt.Annie G. … Specia… "Perso… "011-2… NA          5648 "39-A,… "Bunga… "mat…
 2 Smt. Sudha Ra… PSO to… "Perso… "011-2… NA          5648 "36, N… ""      "Sud…
 3 Smt. Pratima … DDG     "Exp."  "24653… NA            NA "515,L… ""      ""   
 4 Shri Amarjeet… Deputy… "RTI &amp;… "24617… NA            NA "504, … ""      ""   
 5 Sh. Shiv Ram … Direct… "SIU"   "24697… NA            NA "505/L… ""      ""   
 6 Sh. Kailash C… Under … "SIU"   "24611… NA            NA "503/L… ""      ""   
 7 Shri Om Praka… Under … "RTI/L… ""       9.20e11      NA "501 A… ""      ""   
 8 Sh. Devinder … Under … "RTI &amp;… "24654…  8.08e 9      NA "504,L… ""      ""   
 9 Smt. Uma Agga… SO      ""      "24618… NA            NA ""      ""      ""   
10 Smt. Kavita S… PS      ""      "24618… NA            NA "508,L… ""      ""   
11 Sh. Lalit Kum… SO      ""      "24618… NA            NA "508,L… ""      ""   
12 Sh. Raj Kumar  SO      "RTI"   "24654…  8.45e 9      NA "511, … ""      ""   
13 Sh.Santosh Ku… Careta… ""      "24618… NA            NA "508/L… "E-163… ""   
14 Sh. Rajesh Sh… SO      "SIU"   "24654…  9.01e 9      NA "511, … ""      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[8]]
# A tibble: 21 × 9
   Name           Desig…¹ Divis…² Telep…³ Teleph…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 Shri Amit Sin… Joint … "PFC-I" 230948… NA       "5652"  "142-B… ""      negi…
 2 Shri Rajesh D… PPS to… "PFC.I" 011-23… NA       "5679"  "166-E… ""      raje…
 3 Mrs. Kavita M… PPS     "PFC.I" 011-23… NA       "5679"  "166 E… "EA-25… m[do…
 4 Shri M K Sahoo Adviser ""      011-24… NA       ""      "504, … ""      mksa…
 5 Sh. Rana Muke… PS to … ""      011-24… NA       ""      ""      ""      rana…
 6 Shri Sushobha… SSO     "O/o A… 011-24…  9.20e11 ""      "505, … ""      s[do…
 7 Sh. L.K. Triv… Direct… "PFC.I" 230933… NA       "5642"  "264 C… ""      lk[d…
 8 Ms Swayamprav… Direct… "PFC.I" 230926… NA       "5636"  "225-C… ""      sway…
 9 Sh. Prateek K… Direct… "PFC.I" 230949… NA       "5660"  "76, N… ""      prat…
10 P. Parthiban   Deputy… "PFC I" 011230… NA       "5645"  "167 B… ""      p[do…
# … with 11 more rows, and abbreviated variable names ¹​Designation,
#   ²​`Division/section`, ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`,
#   ⁵​`Intercom No.`, ⁶​`Room No.`, ⁷​`Address(Residence)`
# ℹ Use `print(n = ...)` to see more rows

[[9]]
# A tibble: 1 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt; &lt;lgl&gt;   &lt;lgl&gt;   &lt;chr&gt;   &lt;lgl&gt;   &lt;lgl&gt;
1 Ms. Gurpreet Ka… SSO     PRU      2.46e7 NA      NA      511, L… NA      NA   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[10]]
# A tibble: 11 × 9
   Name            Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 Dr. Sajjan Sin… "Addit… "PF St…  2.31e7 NA      "5673"  169-C,… ""      "jsp…
 2 Sh Ravinder Ku… "PSO t… "PF St…  2.31e7 NA      "5682"  143, N… "."     ""   
 3 Mrs. Poonam Ch… "PPS t… "PF St…  2.31e7 NA      "5682"  143, N… ""      ""   
 4 Sh Deependra K… "Direc… "PF St…  2.31e7  9.45e9 "5612"  145,NB  ""      "kum…
 5 Shri Gurpreet … "Direc… "PF-St…  2.31e7 NA      "5691"  162,No… ""      "gsa…
 6 Shri Mahendra … "Assis… "PF St… NA      NA      ""      79,Nor… ""      ""   
 7 Shri Sumit Aga… "Deput… "PFS"    2.31e7 NA      "5700"  79, No… ""      "agr…
 8 Shri. Neeraj B… "PPS t… "PFC-I"  2.31e7 NA      "5647"  75, No… ""      ""   
 9 Ms. Anjali Mau… "Assis… "PF St…  2.31e7 NA      "5697"  80, No… ""      "mau…
10 PF (State)      ""      ""       2.31e7 NA      "5625,… 80,NB   ""      ""   
11 Sh.             "AAO"   "PF-St…  2.31e7 NA      "5726"  30 A    ""      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[11]]
# A tibble: 8 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt; &lt;lgl&gt;     &lt;int&gt; &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;
1 Shri Sanjay Pra… Addl. … "PF Ce…  2.31e7 NA         5720 161,NB  NA      "js[…
2 Sh. Tilak Raj G… PPS     ""       2.31e7 NA         5698 163,NB  NA      ""   
3 Mr. Amit Kumar   Joint … "PFC -…  2.31e7 NA         5688 162, N… NA      ""   
4 Ms. Hema Jaiswal Direct… ""       2.31e7 NA         5614 167-B,… NA      ""   
5 Shri V Padmanab… Deputy… "PFC-I…  2.46e7 NA           NA 501, L… NA      ""   
6 Sh. Rangin Murmu Deputy… "PFC-I…  2.31e7 NA         5701 79, No… NA      ""   
7 Sh. Aayush Bans… Deputy… "PFC-I…  2.31e7 NA         5644 79, No… NA      "abc…
8 Sh. Puspendra S… Deputy… "PFC.I…  2.31e7 NA         5640 80, No… NA      "pus…
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[12]]
# A tibble: 6 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
1 Shri Manoj Sahay Additi… ""       2.31e7  9.97e9    5685 166-C,… "C II/… "man…
2 Sh. Surendra Ku… PPS to… ""       2.31e7 NA         5603 163,No… ""      ""   
3 Ms. A. Seetha M… PPS to… "Fin/M…  2.31e7 NA         5603 163, NB ""      ""   
4 Sh. Deepak Math… Deputy… "Rev./…  2.31e7 NA         5401 71-A, … ""      ""   
5 Shri Amrender K… Under … "IFU M…  2.31e7 NA         5714 276-C,… ""      ""   
6 Shri Nitin Kumar sectio… "Misce…  2.31e7 NA         5714 276-C,… ""      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[13]]
# A tibble: 6 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
1 Shri Manoj Sahay Additi… ""       2.31e7  9.97e9    5685 166-C,… "C II/… "man…
2 Sh. Surendra Ku… PPS to… ""       2.31e7 NA         5603 163,No… ""      ""   
3 Ms. A. Seetha M… PPS to… "Fin/M…  2.31e7 NA         5603 163, NB ""      ""   
4 Sh. Deepak Math… Dy. Se… "Rev./…  2.31e7 NA         5401 71-A,NB ""      ""   
5 Sh.Arvind Kumar… US      "IFU"    2.31e7 NA         5607 225-E/… ""      ""   
6 Ms. Preeti Shar… S.O     "IFU"    2.31e7 NA         5662 241-D,… ""      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[14]]
# A tibble: 2 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt; &lt;lgl&gt;   &lt;lgl&gt;     &lt;int&gt; &lt;chr&gt;   &lt;lgl&gt;
1 Sh. Subrata Cha… US      MC       2.46e7 NA      NA          139 2nd Fl… NA   
2 Sh. Vishwa Nath… Under … Monito…  2.46e7 NA      NA           NA 2nd Fl… NA   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[15]]
# A tibble: 6 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt; &lt;lgl&gt;     &lt;int&gt; &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;
1 Dr. Sajjan Sing… Additi… "FCD"    2.31e7 NA         5673 169-C   NA      "JSP…
2 Sh. Ravinder Ku… PSO to… "FCD"    2.31e7 NA         5682 143,No… NA      ""   
3 Mrs.......       PPS to… "FCD"    2.31e7 NA         5682 166-E,… NA      ""   
4 Shri Abhay Kumar Direct… "FCD"    2.44e7 NA           NA .503,C… NA      ""   
5 Sh. Rajendra Ku… PPS to… ""       2.44e7 NA           NA 502     NA      ""   
6 Shri Mahesh Kum… Deputy… "Finan…  2.44e7 NA           NA 508     NA      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[16]]
# A tibble: 5 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt; &lt;lgl&gt;     &lt;int&gt; &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;
1 Shri Sanjay Agg… Advisor PPD      2.31e7 NA         5608 168-B,… NA      "san…
2 Ms. Manju Kumari PPS     PPD      2.31e7 NA         5708 169-A,… NA      ""   
3 Shri Kanwalpreet Direct… PPD      2.31e7 NA         5683 264C/NB NA      ""   
4 Ms Usha Rani     Under … PPD      2.46e7 NA           NA 512, L… NA      ""   
5 Sh..             SO      PPD      2.46e7 NA           NA LNB     NA      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[17]]
# A tibble: 18 × 9
   Name            Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;     &lt;int&gt; &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;
 1 Shri Umesh Kum… Chief … Cost    "24698… NA         8522 "201"   NA      "uks…
 2 Sh. A.K. Gaur   Sr. PPS Cost    "24698… NA           NA "202"   NA      ""   
 3 Sh. Gurubaksh … PS      Cost    "24698… NA         8522 "202,L… NA      ""   
 4 Shri Amardeep … Adviser Cost    "24618… NA         8906 "204-B… NA      "ama…
 5 Shri Pankaj Gu… Adviser Admn.   "24698… NA         8435 "205-B" NA      "gup…
 6 Shri Rajesh Ya… Direct… Cost    "24694… NA         4021 "209-B" NA      ""   
 7 Shri Manoj Kum… Joint … Cost    "24617… NA         7075 "205-C" NA      "man…
 8 Shri T.R.Sathi… Joint … Cost    "24698… NA         8640 "205-A" NA      "sch…
 9 Shri Prakash H… Dy. Di… Cost    "24653… NA         3487 "206, … NA      "pra…
10 Ms. Priyanka S… Dy. Di… Cost    ""      NA           NA ""      NA      "pri…
11 Shri Deepak Ga… Dy. Di… Cost    "24653… NA         3487 "206, … NA      "dee…
12 Shri Devanshi … Dy. Di… Cost    "24653… NA         3487 "206, … NA      "dev…
13 Ms. R Kalyanas… Asstt.… Cost    "24692… NA         2541 "206, … NA      "cma…
14 Shri Rahul Cha… Dy. Di… Cost    "24692… NA         2541 "206, … NA      "rah…
15 Shri Manoj Kum… Dy, Di… Cost    "24653… NA         3487 "206,L… NA      "ca[…
16 Shri Harsh Jos… Asstt.… Admn.   "24692… NA         2541 "206, … NA      "har…
17 Shri Pankaj Pa… Asstt.… Cost    "24692… NA         2541 "206, … NA      "pan…
18 Shri Mahesh Ch… Sectio… Admn.   "24693… NA         3895 "208,L… NA      "sha…
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[18]]
# A tibble: 4 × 9
  Name             Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;            &lt;chr&gt;   &lt;lgl&gt;     &lt;int&gt; &lt;lgl&gt;     &lt;int&gt; &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;
1 Sh. Alok Ranjan  Chief … NA       2.31e7 NA         5729 240-B,… NA      "cca…
2 Shri Vivekanand  Contro… NA       2.31e7 NA         5730 241-A,… NA      "ana…
3 Shri Himanshu S… ACA Fi… NA       2.37e7 NA           NA 401, E… NA      "sri…
4 Sh.              Dy. Co… NA       2.31e7 NA           NA R. No.… NA      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[19]]
# A tibble: 19 × 9
   Name            Desig…¹ Divis…² Telep…³ Telep…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
   &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;
 1 Reception offi… ""      ""      230956… NA      "5617,… ""      ""      NA   
 2 Reception offi… ""      ""      230956… NA      "5605,… ""      ""      NA   
 3 Finance Canteen ""      ""      230956… NA      "5677,… ""      ""      NA   
 4 Tea Board       ""      ""      230956… NA      "5670"  ""      ""      NA   
 5 Coffee Board    ""      ""      230939… NA      "5692"  ""      ""      NA   
 6 Bikano          ""      ""      230956… NA      "5601"  ""      ""      NA   
 7 Driver Room     ""      ""      230956… NA      "5675"  ""      ""      NA   
 8 Electrical Enq… ""      ""      230948… NA      ""      ""      ""      NA   
 9 Asstt. Enginee… ""      ""      230923… NA      ""      ""      ""      NA   
10 Sh. Vishal      "(LG R… ""      987333… NA      ""      ""      ""      NA   
11 Sh. M Krishnan  "Jr. E… "AC/El… 230939… NA      ""      ""      "96435… NA   
12 Sh. D.C. Sharma "Asst.… ""      230939…  9.87e9 ""      ""      ""      NA   
13 Sh. Manish Kum… "Execu… ""      230923…  9.87e9 ""      ""      ""      NA   
14 CPWD (Civil)    ""      ""      230920… NA      ""      ""      ""      NA   
15 CPWD (Electric… ""      ""      230935… NA      ""      ""      ""      NA   
16 Fire Station, … ""      ""      230927… NA      ""      ""      ""      NA   
17 JTO, MTNL, NB … ""      ""      230920… NA      ""      ""      ""      NA   
18 Internet Compl… ""      "NIC- … 180011… NA      ""      "35AB"  ""      NA   
19 Stationery Sto… ""      ""      230956… NA      "5658"  ""      ""      NA   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`

[[20]]
# A tibble: 3 × 9
  Name            Desig…¹ Divis…² Telep…³ Teleph…⁴ Inter…⁵ Room …⁶ Addre…⁷ Email
  &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
1 Sh. Rajesh Mal… Princi… "Media… 011-23…  9.87e 9    5006 B-77, … "Flat … "dpr…
2 Ms. Gurmeet Bh… Sr. PPS "Media… 011-23… NA          5637 A-76, … ""      "gur…
3 Sh. Kush Mohan… M&amp;CO    ""      230939…  1.00e10    5637 A-76    ""      ""   
# … with abbreviated variable names ¹​Designation, ²​`Division/section`,
#   ³​`Telephone (Office)`, ⁴​`Telephone(Residence)`, ⁵​`Intercom No.`,
#   ⁶​`Room No.`, ⁷​`Address(Residence)`</code></pre>
</div>
</div>
</div>
</section>
<section id="there-is-much-more-to-learn-about-rvest" class="slide level2" style="text-align:center;padding:250px 0">
<h2>There is much more to learn about {rvest}</h2>
<p><strong>What we have covered is sufficient as a building block of working knowledge to scrape webpages.</strong></p>
</section>
<section id="a-samll-test" class="slide level2">
<h2>A samll test</h2>
<p>Navigate to <a href="https://github.com/orgs/rstudio/repositories">RStudio’s github</a>.</p>
<div class="fragment">
<p>This will take you to the first page of all the repositories of RStudio.</p>
</div>
<div class="fragment">
<p><strong>Write code to scrape names of all the repositories on this page.</strong></p>
</div>
</section>
<section id="what-did-you-notice" class="slide level2">
<h2>What did you notice?</h2>
<ul>
<li>There are more repositories than visible on this page.</li>
</ul>
<div class="fragment">
<ul>
<li>At the bottom of the page there are numbers that can allow us to see more repositories.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Does the URL change when you move from page 1 to page 2 or any other page?</li>
</ul>
</div>
<div class="fragment">
<p><strong>How to deal with this?? If we want all repos from all pages.</strong></p>
</div>
<div class="fragment">
<p><strong>{purrr} can help</strong> This requires a little detour.</p>
</div>
</section>
<section id="the-detour---two-more-topics-to-learn" class="slide level2">
<h2>The Detour - two more topics to learn</h2>
<div>
<ul>
<li class="fragment">wrap a sequence of commands into a function - simple ones</li>
<li class="fragment">use {purrr} to iterate</li>
</ul>
</div>
</section>
<section id="essentials-of-functions-and-functional-programming" class="slide level2">
<h2>Essentials of Functions and Functional Programming</h2>
<div class="cell">
<iframe src="https://ayushbipinpatel.github.io/R-for-Data-Analysis/functions-and-functional-programming.html#1" width="80%" height="500px" data-external="1" style="align=center">
</iframe>
</div>
</section>
<section id="back-to-the-problem---create-function" class="slide level2">
<h2>Back to the problem - Create Function</h2>
<ul>
<li>Use the code you wrote to get repo names and convert it into a function.</li>
</ul>
<div class="fragment">
<ul>
<li>This function should expect css or xpath of elements you want and the url of the page you want</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>This function should return the names of all the repos on a given page</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Test this function</li>
</ul>
</div>
</section>
<section id="back-to-the-probelem---apply-the-function-using-purrr" class="slide level2">
<h2>Back to the probelem - Apply the function using {purrr}</h2>
<ul>
<li>Prepare data needed to get names of all repos from all pages</li>
</ul>
<div class="fragment">
<ul>
<li>Use <code>map</code> or <code>pmap</code> according to your need with the function you created</li>
</ul>
</div>
</section>
<section id="the-solution" class="slide level2 scrollable">
<h2>The solution</h2>
<p><strong>First write the function</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>get_desired_text <span class="ot">&lt;-</span> <span class="cf">function</span>(which_element,which_url){</span>
<span id="cb22-2"><a href="#cb22-2"></a>  rvest<span class="sc">::</span><span class="fu">read_html</span>(which_url) <span class="sc">|&gt;</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>    rvest<span class="sc">::</span><span class="fu">html_elements</span>(which_element) <span class="sc">|&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>    rvest<span class="sc">::</span><span class="fu">html_text</span>(<span class="at">trim =</span> T)</span>
<span id="cb22-5"><a href="#cb22-5"></a>  </span>
<span id="cb22-6"><a href="#cb22-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Second prepare data</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="at">url =</span> <span class="fu">paste0</span>(<span class="st">"https://github.com/orgs/rstudio/repositories?page="</span>, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>)),</span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="at">desired_ele =</span> <span class="fu">rep</span>(<span class="st">"h3&gt;a"</span>,<span class="dv">11</span>)</span>
<span id="cb23-4"><a href="#cb23-4"></a>) <span class="ot">-&gt;</span> data_what_you_want</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Third apply function</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>purrr<span class="sc">::</span><span class="fu">pmap</span>(<span class="at">.l =</span> <span class="fu">list</span>(</span>
<span id="cb24-2"><a href="#cb24-2"></a>  <span class="at">which_url =</span> data_what_you_want<span class="sc">$</span>url[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>],</span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="at">which_element =</span> data_what_you_want<span class="sc">$</span>desired_ele[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb24-4"><a href="#cb24-4"></a>),<span class="at">.f =</span> get_desired_text) <span class="sc">|&gt;</span> purrr<span class="sc">::</span><span class="fu">reduce</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "shinycoreci"                    "bookdown.org"                  
 [3] "gt"                             "leaflet"                       
 [5] "rstudio"                        "shiny"                         
 [7] "shinyapps-package-dependencies" "shinyuieditor"                 
 [9] "rstudio-docker-products"        "rmarkdown"                     
[11] "packrat"                        "py-shiny"                      
[13] "pins-r"                         "rticles"                       
[15] "pins-python"                    "rsconnect"                     
[17] "package-manager-demo"           "keras"                         
[19] "vetiver-python"                 "tensorflow"                    
[21] "tensorflow.rstudio.com"         "reticulate"                    
[23] "rsconnect-python"               "vscode-codicons"               
[25] "tinytex-releases"               "r-manuals"                     
[27] "py-htmltools"                   "bslib"                         
[29] "shiny-server"                   "helm"                          
[31] "ps-cheatsheet-metrics"          "gradethis"                     
[33] "httpuv"                         "thematic"                      
[35] "vetiver-r"                      "bookdown"                      
[37] "tinytex"                        "pagedown"                      
[39] "rsc-hello-world-content"        "renv"                          
[41] "connectwidgets"                 "DT"                            
[43] "blogdown"                       "platform-lib"                  
[45] "r-system-requirements"          "shinylive"                     
[47] "py-shinywidgets"                "shinytest2"                    
[49] "r-docker"                       "py-shinylive"                  
[51] "checkrs-tew"                    "htmltools"                     
[53] "bookdown-demo"                  "shinyvalidate"                 
[55] "tblcheck"                       "rsconnect-jupyter"             
[57] "plumber"                        "hex-stickers"                  
[59] "tfhub"                          "r-builds"                      
[61] "rstudio-cloud-tools"            "vetiver.rstudio.com"           
[63] "shinytest"                      "sol-eng-demo-server"           
[65] "connect-api-deploy-shiny"       "connectapi"                    
[67] "sass"                           "bsicons"                       
[69] "actions"                        "markdown"                      
[71] "cheatsheets"                    "shiny-workflows"               
[73] "ai-blog"                        "learnr"                        
[75] "rstudioapi"                     "rmarkdown-cookbook"            
[77] "pool"                           "plumbertableau"                
[79] "python-builds"                  "fontawesome"                   
[81] "rstudio-conf"                   "mleap"                         
[83] "pyshiny-vscode"                 "environments.rstudio.com"      
[85] "pkgs.rstudio.com"               "shiny-server-client"           
[87] "issuetriager"                   "gridlayout"                    
[89] "rscloud"                        "promises"                      </code></pre>
</div>
</div>
</section>
<section id="automate-browsers-with-rselenium" class="slide level2" style="text-align:center;padding:250px 0">
<h2>Automate browsers with {rselenium}</h2>
<p><strong>Because sometimes there is no other way</strong></p>
</section>
<section id="system-requirements" class="slide level2" style="text-align:center;padding:250px 0">
<h2>System requirements</h2>
<p><strong>You should have selenium server installed on your machine</strong></p>
<p><strong>You will need any one of these browsers (preferably a recent release version): Chrome, Firefox, PhantomJs or Internet Explorer</strong></p>
</section>
<section id="start-the-seleniumserver" class="slide level2">
<h2>Start the seleniumserver</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Use your preferred browser --------</span></span>
<span id="cb26-2"><a href="#cb26-2"></a></span>
<span id="cb26-3"><a href="#cb26-3"></a>RSelenium<span class="sc">::</span><span class="fu">rsDriver</span>(<span class="at">browser =</span> <span class="st">"chrome"</span>,</span>
<span id="cb26-4"><a href="#cb26-4"></a>                    <span class="at">port =</span> 4444L,</span>
<span id="cb26-5"><a href="#cb26-5"></a>                    <span class="at">chromever =</span> <span class="st">"108.0.5359.71"</span>) <span class="ot">-&gt;</span> rd <span class="co"># save as an object</span></span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="do">## or </span></span>
<span id="cb26-8"><a href="#cb26-8"></a></span>
<span id="cb26-9"><a href="#cb26-9"></a>RSelenium<span class="sc">::</span><span class="fu">rsDriver</span>(<span class="at">browser =</span> <span class="st">"firefox"</span>,</span>
<span id="cb26-10"><a href="#cb26-10"></a>                    <span class="at">port =</span> 4444L) <span class="ot">-&gt;</span> rd <span class="co"># save as an object</span></span>
<span id="cb26-11"><a href="#cb26-11"></a></span>
<span id="cb26-12"><a href="#cb26-12"></a></span>
<span id="cb26-13"><a href="#cb26-13"></a><span class="co"># work with the client ----------</span></span>
<span id="cb26-14"><a href="#cb26-14"></a></span>
<span id="cb26-15"><a href="#cb26-15"></a>rd<span class="sc">$</span>client <span class="ot">-&gt;</span> rdc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Check class and names within <code>rd</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">class</span>(rd)</span>
<span id="cb27-2"><a href="#cb27-2"></a></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="fu">names</span>(rd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="close-the-client-and-stop-the-server" class="slide level2">
<h2>Close the client and stop the server</h2>
<p>After completing the task <strong>close the client and the server</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># close client</span></span>
<span id="cb28-2"><a href="#cb28-2"></a></span>
<span id="cb28-3"><a href="#cb28-3"></a>rdc<span class="sc">$</span><span class="fu">close</span>()</span>
<span id="cb28-4"><a href="#cb28-4"></a></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="co"># stop server</span></span>
<span id="cb28-6"><a href="#cb28-6"></a></span>
<span id="cb28-7"><a href="#cb28-7"></a>rd[[<span class="st">'server'</span>]]<span class="sc">$</span><span class="fu">stop</span>()</span>
<span id="cb28-8"><a href="#cb28-8"></a></span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="do">## or</span></span>
<span id="cb28-10"><a href="#cb28-10"></a></span>
<span id="cb28-11"><a href="#cb28-11"></a>rd<span class="sc">$</span>server<span class="sc">$</span><span class="fu">stop</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="navigate-to-a-webpage" class="slide level2">
<h2>Navigate to a webpage</h2>
<p><em>Start your server and create a client object</em> - A one time step</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># Use your preferred browser --------</span></span>
<span id="cb29-2"><a href="#cb29-2"></a></span>
<span id="cb29-3"><a href="#cb29-3"></a>RSelenium<span class="sc">::</span><span class="fu">rsDriver</span>(<span class="at">browser =</span> <span class="st">"chrome"</span>,</span>
<span id="cb29-4"><a href="#cb29-4"></a>                    <span class="at">port =</span> 4444L,</span>
<span id="cb29-5"><a href="#cb29-5"></a>                    <span class="at">chromever =</span> <span class="st">"108.0.5359.71"</span>) <span class="ot">-&gt;</span> rd <span class="co"># save as an object</span></span>
<span id="cb29-6"><a href="#cb29-6"></a></span>
<span id="cb29-7"><a href="#cb29-7"></a><span class="co"># work with the client ----------</span></span>
<span id="cb29-8"><a href="#cb29-8"></a></span>
<span id="cb29-9"><a href="#cb29-9"></a>rd<span class="sc">$</span>client <span class="ot">-&gt;</span> rdc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Use client object <code>rdc</code> to navigate to a URL</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>rdc<span class="sc">$</span><span class="fu">navigate</span>(<span class="st">"URL"</span>) <span class="co"># replace the URL with the link to the webpage, say https://data.worldbank.org/ for example</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="find-elements-on-a-webpage" class="slide level2">
<h2>Find elements on a webpage</h2>
<p>Selenium can find elements using any of these locators. Table from selenium documentation.</p>

<table style="font-size:18px;">
<thead>
<tr>
<th>
Locator
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
class name
</td>
<td>
Locates elements whose class name contains the search value (compound class names are not permitted)
</td>
</tr>
<tr>
<td>
css selector
</td>
<td>
Locates elements matching a CSS selector
</td>
</tr>
<tr>
<td>
id
</td>
<td>
Locates elements whose ID attribute matches the search value
</td>
</tr>
<tr>
<td>
name
</td>
<td>
Locates elements whose NAME attribute matches the search value
</td>
</tr>
<tr style="background-color:LightGreen;">
<td>
link text
</td>
<td>
Locates anchor elements whose visible text matches the search value
</td>
</tr>
<tr>
<td>
partial link text
</td>
<td>
Locates anchor elements whose visible text contains the search value. If multiple elements are matching, only the first one will be selected.
</td>
</tr>
<tr>
<td>
tag name
</td>
<td>
Locates elements whose tag name matches the search value
</td>
</tr>
<tr style="background-color:LightGreen;">
<td>
xpath
</td>
<td>
Locates elements matching an XPath expression
</td>
</tr>
</tbody>

</table>
<p><em>We will focus on <code>link text</code> and <code>xpath</code></em></p>
</section>
<section id="find-element-and-click-on-it" class="slide level2">
<h2>Find Element and click on it</h2>
<p><em>All operations are done using the client object <code>rdc.</code></em></p>
<div class="fragment">
<p><em>The <code>rdc</code> object contains several functions withing it.</em></p>
<p>Try typing <code>rdc$</code> and press the <code>tab</code> key - this gives the functions within the <code>rdc</code> object.</p>
</div>
<div class="fragment">
<p>We will find the element “Country” on this page <a href="https://data.worldbank.org/">https://data.worldbank.org/</a></p>
<p>This element has a link and the text on this element is “Country”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>element_country <span class="ot">&lt;-</span> rdc<span class="sc">$</span><span class="fu">findElement</span>(<span class="at">using =</span> <span class="st">"link text"</span>, <span class="st">"Country"</span>) <span class="co"># find using link text</span></span>
<span id="cb31-2"><a href="#cb31-2"></a></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="co"># click on the element</span></span>
<span id="cb31-4"><a href="#cb31-4"></a></span>
<span id="cb31-5"><a href="#cb31-5"></a>ele_country<span class="sc">$</span><span class="fu">clickElement</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="find-element-and-send-keys" class="slide level2">
<h2>Find element and send keys</h2>
<p>Navigate the client browser to <a href="https://doe.gov.in/whos-who">https://doe.gov.in/whos-who</a></p>
<div class="fragment">
<p>We need to write a name in the <code>Name</code> text input box and press enter</p>
</div>
<div class="fragment">
<p>First find the element using xpath - //*<span class="citation" data-cites="id">[@id="edit-title"]</span></p>
<p>And save as an object, say <code>ele_name</code></p>
</div>
<div class="fragment">
<p>Use the following code snippets to send keys to the input box</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>ele_name<span class="sc">$</span><span class="fu">sendKeysToElement</span>(<span class="fu">list</span>(<span class="st">"prakhar"</span>, <span class="at">key =</span> <span class="st">"enter"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Also, checkout the object <code>RSelenium::selKeys</code> in your console</p>
</div>
</section>
<section id="downloading-files-from-client-browser" class="slide level2">
<h2>Downloading files from Client browser</h2>
<p>Navigate to the URL <a href="https://www.upsc.gov.in/content/71st-annual-report">https://www.upsc.gov.in/content/71st-annual-report</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>rdc<span class="sc">$</span><span class="fu">navigate</span>(<span class="st">"https://www.upsc.gov.in/content/71st-annual-report"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Find element using xpath</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>ele_report <span class="ot">&lt;-</span> rdc<span class="sc">$</span><span class="fu">findElement</span>(<span class="at">value =</span> <span class="st">'/html/body/section[2]/div/div[2]/div/h1/a'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p>Get the element’s link</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>ele_report<span class="sc">$</span><span class="fu">getElementAttribute</span>(<span class="st">"href"</span>)<span class="sc">|&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">unlist</span>() <span class="ot">-&gt;</span> link_report</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p>Use the utils <code>download.files</code> to download the file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">download.file</span>(link_report, <span class="st">"fl.pdf"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="dont-forget-to-close-the-browser-and-stop-the-server" class="slide level2" style="text-align:center;padding:250px 0">
<h2>Dont forget to close the browser and stop the server</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># close client</span></span>
<span id="cb37-2"><a href="#cb37-2"></a></span>
<span id="cb37-3"><a href="#cb37-3"></a>rdc<span class="sc">$</span><span class="fu">close</span>()</span>
<span id="cb37-4"><a href="#cb37-4"></a></span>
<span id="cb37-5"><a href="#cb37-5"></a><span class="co"># stop server</span></span>
<span id="cb37-6"><a href="#cb37-6"></a></span>
<span id="cb37-7"><a href="#cb37-7"></a>rd[[<span class="st">'server'</span>]]<span class="sc">$</span><span class="fu">stop</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fin." class="slide level2" style="text-align:center;padding:250px 0">
<h2>Fin.</h2>
<div class="footer footer-default">

</div>
</section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="lecuter_slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="lecuter_slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="lecuter_slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="lecuter_slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="lecuter_slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="lecuter_slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="lecuter_slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="lecuter_slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="lecuter_slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="lecuter_slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1400,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>